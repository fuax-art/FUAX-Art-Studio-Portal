<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>FUAX Metadata Generator</title>
Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
Â  Â  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.globe.min.js"></script>
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  Â  Â  Â  Â  max-width: 1200px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  background: #000;
Â  Â  Â  Â  Â  Â  color: #00ffff;
Â  Â  Â  Â  }
Â  Â  Â  Â  #vanta-bg {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  inset: 0;
Â  Â  Â  Â  Â  Â  z-index: -10;
Â  Â  Â  Â  Â  Â  opacity: 0.3;
Â  Â  Â  Â  }
Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.85);
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  border: 1px solid #cd5c28;
Â  Â  Â  Â  }
Â  Â  Â  Â  button {
Â  Â  Â  Â  Â  Â  background: #cd5c28;
Â  Â  Â  Â  Â  Â  color: #00ffff;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 15px 30px;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  margin: 10px 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â  button:hover {
Â  Â  Â  Â  Â  Â  background: #b34a20;
Â  Â  Â  Â  }
Â  Â  Â  Â  input, select {
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.7);
Â  Â  Â  Â  Â  Â  color: #00ffff;
Â  Â  Â  Â  Â  Â  border: 1px solid #cd5c28;
Â  Â  Â  Â  Â  Â  padding: 8px;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  }
Â  Â  Â  Â  textarea {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 400px;
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.9);
Â  Â  Â  Â  Â  Â  color: #00ffff;
Â  Â  Â  Â  Â  Â  border: 1px solid #cd5c28;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  font-family: monospace;
Â  Â  Â  Â  }
Â  Â  Â  Â  .trait-set {
Â  Â  Â  Â  Â  Â  display: inline-block;
Â  Â  Â  Â  Â  Â  margin: 10px;
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  background: rgba(205, 92, 40, 0.3);
Â  Â  Â  Â  Â  Â  border: 2px solid #cd5c28;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  }
Â  Â  Â  Â  .trait-set.active {
Â  Â  Â  Â  Â  Â  background: #cd5c28;
Â  Â  Â  Â  Â  Â  color: #000;
Â  Â  Â  Â  }
Â  Â  Â  Â  .controls {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: 1fr 1fr;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  Â  Â  margin: 20px 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  label {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  Â  Â  color: #00ffff;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div id="vanta-bg"></div>
Â  Â  <script>
Â  Â  Â  Â  VANTA.GLOBE({
Â  Â  Â  Â  Â  Â  el: "#vanta-bg",
Â  Â  Â  Â  Â  Â  mouseControls: true,
Â  Â  Â  Â  Â  Â  touchControls: true,
Â  Â  Â  Â  Â  Â  gyroControls: false,
Â  Â  Â  Â  Â  Â  minHeight: 200,
Â  Â  Â  Â  Â  Â  minWidth: 200,
Â  Â  Â  Â  Â  Â  scale: 1.00,
Â  Â  Â  Â  Â  Â  scaleMobile: 1.00,
Â  Â  Â  Â  Â  Â  color: 0x00ffff,
Â  Â  Â  Â  Â  Â  backgroundColor: 0x000000
Â  Â  Â  Â  })
Â  Â  </script>

Â  Â  <div class="container">
Â  Â  Â  Â  <div style="text-align:center; margin-bottom:1.5em;">
Â  Â  Â  Â  Â  Â  <div style="font-size:1.8em; font-weight:bold; color:#00ffff; letter-spacing:2px;">Forever Unfinished Artworx <span style="font-size:0.9em; color:#cd5c28;">(FUAX)</span></div>
Â  Â  Â  Â  Â  Â  <div style="font-size:1.1em; color:#00cccc; margin-top:0.3em;">Metadata Generator</div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="controls">
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <label>Number of Entries (1-100):</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="entryCount" min="1" max="100" value="13">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <label>Custom Name Prefix (optional):</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="namePrefix" placeholder="e.g. CyberPug">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div style="margin: 20px 0;">
Â  Â  Â  Â  Â  Â  <h3 style="color:#00ffff;">Select Trait Set:</h3>
Â  Â  Â  Â  Â  Â  <div class="trait-set active" onclick="selectTraitSet('cyber', this)">Cyber/Tech</div>
Â  Â  Â  Â  Â  Â  <div class="trait-set" onclick="selectTraitSet('monster', this)">Monster</div>
Â  Â  Â  Â  Â  Â  <div class="trait-set" onclick="selectTraitSet('human', this)">Human</div>
Â  Â  Â  Â  Â  Â  <div class="trait-set" onclick="selectTraitSet('alien', this)">Alien</div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <button onclick="generateMetadata()">ğŸš€ Generate Metadata</button>
Â  Â  Â  Â  <button onclick="generateRandomNames()">ğŸ² Generate Random Names</button>
Â  Â  Â  Â  <button onclick="toggleTableView()">ğŸ“Š Toggle Table View</button>
Â  Â  Â  Â  <button onclick="clearOutput()">ğŸ—‘ï¸ Clear</button>
Â  Â  Â  Â  <button onclick="downloadCSV()">ğŸ“¥ Download CSV</button>

Â  Â  Â  Â  <div style="margin-top: 20px;">
Â  Â  Â  Â  Â  Â  <h3 style="color:#00ffff;">Output:</h3>
Â  Â  Â  Â  Â  Â  <textarea id="output" placeholder="Generated metadata will appear here..."></textarea>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="tableView" style="display:none; margin-top:20px; overflow-x:auto;">
Â  Â  Â  Â  Â  Â  Â <h3 style="color:#00ffff;">Table View:</h3>
Â  Â  Â  Â  Â  Â  Â <table id="metadataTable" style="width:100%; border-collapse:collapse; background:rgba(0,0,0,0.7);">
Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  let currentTraitSet = 'cyber';
Â  Â  Â  Â  let generatedData = [];

Â  Â  Â  Â  const traitSets = {
Â  Â  Â  Â  Â  Â  cyber: {
Â  Â  Â  Â  Â  Â  Â  Â  personality: { "Hacker": 20, "Gamer": 20, "Coder": 20, "Rebel": 10, "Explorer": 10, "Guardian": 5, "Nomad": 5, "Oracle": 5, "Cipher": 5 },
Â  Â  Â  Â  Â  Â  Â  Â  affinity: { "Code Master": 20, "Data Analyst": 20, "Network Specialist": 20, "AI Whisperer": 15, "Crypto Expert": 15, "Archivist": 5, "Synthesist": 5 },
Â  Â  Â  Â  Â  Â  Â  Â  energy: { "Focused": 25, "Hyper": 25, "Chill": 20, "Chaotic": 15, "Zen": 10, "Static": 5 },
Â  Â  Â  Â  Â  Â  Â  Â  ability: { "Processing Power": 25, "Connection Speed": 25, "Firewall Strength": 20, "Encryption Key": 20, "Data Surge": 5, "Mind Weave": 5 },
Â  Â  Â  Â  Â  Â  Â  Â  origin: { "Lab Creation": 25, "Street Upload": 25, "Corporate Escape": 20, "Open Source": 15, "Lost Code": 10, "Void-born": 5 },
Â  Â  Â  Â  Â  Â  Â  Â  utility: { "None": 90, "High-Res Access": 5, "Future Airdrop": 4, "Genesis": 1 }
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  monster: {
Â  Â  Â  Â  Â  Â  Â  Â  personality: { "Fierce": 20, "Cunning": 20, "Wild": 15, "Ancient": 15, "Chaotic": 10, "Primal": 10, "Unpredictable": 5, "Ghostly": 5},
Â  Â  Â  Â  Â  Â  Â  Â  affinity: { "Shadow Walker": 25, "Night Hunter": 25, "Beast Master": 20, "Void Dweller": 15, "Soul Eater": 10, "Elemental": 5},
Â  Â  Â  Â  Â  Â  Â  Â  energy: { "Aggressive": 30, "Dormant": 25, "Explosive": 20, "Unstable": 15, "Corrupting": 10},
Â  Â  Â  Â  Â  Â  Â  Â  ability: { "Regeneration": 30, "Stealth": 25, "Strength": 20, "Terror Inducing": 15, "Teleportation": 10},
Â  Â  Â  Â  Â  Â  Â  Â  origin: { "Summoned": 25, "Mutated": 25, "Ancient Awakening": 20, "Dark Ritual": 15, "Chaotic Breach": 10, "Abyssal Plain": 5},
Â  Â  Â  Â  Â  Â  Â  Â  utility: { "None": 90, "High-Res Access": 5, "Future Airdrop": 4, "Genesis": 1 }
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  human: {
Â  Â  Â  Â  Â  Â  Â  Â  personality: { "Leader": 20, "Strategist": 20, "Warrior": 20, "Scholar": 15, "Healer": 10, "Rogue": 10, "Innovator": 5},
Â  Â  Â  Â  Â  Â  Â  Â  affinity: { "Combat Expert": 25, "Tactician": 25, "Diplomat": 20, "Engineer": 15, "Pilot": 10, "Survivalist": 5},
Â  Â  Â  Â  Â  Â  Â  Â  energy: { "Determined": 30, "Calm": 25, "Intense": 20, "Adaptive": 15, "Resilient": 10},
Â  Â  Â  Â  Â  Â  Â  Â  ability: { "Leadership": 25, "Survival Instinct": 25, "Innovation": 20, "Persuasion": 15, "Psionic": 10, "Precognition": 5},
Â  Â  Â  Â  Â  Â  Â  Â  origin: { "Urban": 25, "Military": 25, "Academic": 20, "Underground": 15, "Hidden City": 10, "Outpost": 5},
Â  Â  Â  Â  Â  Â  Â  Â  utility: { "None": 90, "High-Res Access": 5, "Future Airdrop": 4, "Genesis": 1 }
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  alien: {
Â  Â  Â  Â  Â  Â  Â  Â  personality: { "Observer": 25, "Collector": 20, "Emissary": 20, "Traveler": 15, "Ancient": 10, "Architect": 5, "Watcher": 5},
Â  Â  Â  Â  Â  Â  Â  Â  affinity: { "Telepathic": 25, "Quantum Mind": 20, "Hive Linked": 20, "Cosmic Aware": 15, "Time Bending": 10, "Dimension Walker": 5},
Â  Â  Â  Â  Â  Â  Â  Â  energy: { "Ethereal": 25, "Pulsing": 25, "Transdimensional": 20, "Crystalline": 15, "Singularity": 10, "Cosmic Ray": 5},
Â  Â  Â  Â  Â  Â  Â  Â  ability: { "Telekinesis": 25, "Phase Shift": 25, "Mind Link": 20, "Reality Bend": 15, "Matter Manipulation": 10, "Soul Absorb": 5},
Â  Â  Â  Â  Â  Â  Â  Â  origin: { "Distant Star": 25, "Wormhole": 25, "Dimensional Rift": 20, "Ancient Colony": 15, "Galactic Core": 10, "Void of Creation": 5},
Â  Â  Â  Â  Â  Â  Â  Â  utility: { "None": 90, "High-Res Access": 5, "Future Airdrop": 4, "Genesis": 1 }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  function selectTraitSet(set, element) {
Â  Â  Â  Â  Â  Â  currentTraitSet = set;
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.trait-set').forEach(el => el.classList.remove('active'));
Â  Â  Â  Â  Â  Â  element.classList.add('active');
Â  Â  Â  Â  }

Â  Â  Â  Â  function generateRandomName() {
Â  Â  Â  Â  Â  Â  const namePatterns = {
Â  Â  Â  Â  Â  Â  Â  Â  cyber: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  prefixes: ["Chrono", "Pixel", "Core", "Wave", "Pulse", "Node", "Shift", "Spark", "Blast","Synth", "Zone", "Circuit", "Echo", "Cyber", "Neo", "Quantum", "Digital", "Plasma", "Neon", "Glitch", "Flux", "Binary", "Data"],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  suffixes: ["Byte", "Chip", "Hack", "Net", "Code", "Bot", "Drone", "Grid", "Link", "Node",Â  "Tech", "Wave", "Core", "Pulse", "Flux", "Spark", "Shift", "Glitch", "Pixel"]
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  monster: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  prefixes: ["Fang", "Claw", "Maw", "Terror", "Bane", "Reaver", "Stalker", "Hunter", "Shadow", "Dark", "Blood", "Fang", "Claw", "Void", "Doom", "Rage", "Beast", "Primal"],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  suffixes: ["Howl", "Snarl", "Lord", "Fiend", "Bringer", "Stalker", "Hunter", "Wraith", "Terror", "Giant", "Crusher", "Howler"]
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  human: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  prefixes: ["Strike", "Fist", "Edge", "Born", "Heart", "Soul", "Eye", "Hand", "Walker", "Runner", "Blade", "Ghost", "Viper", "Raven", "Wolf", "Hawk", "Rogue"],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  suffixes: ["Fury", "Strike", "Shadow", "Rider", "Hunter", "Warrior", "Guardian", "Seeker", "Nomad", "Storm", "Steel", "Iron", "Thunder"]
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  alien: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  prefixes: ["Xeno", "Zeta", "Kryo", "Vex", "Nex", "Quar", "Tari", "Luma", "Orin", "Vira", "Xylo", "Zyra", "Kora", "Mira", "Nova", "Prax", "Ryn", "Sora", "Talon", "Vara", "Xeno", "Cosmic", "Void", "Star", "Nova", "Quantum", "Phase", "Warp", "Nebula", "Astral"],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  suffixes: ["ling", "oid", "ite", "ar", "on", "arion", "ax", "ex", "us", "ar", "Form", "Entity", "Being", "Essence", "Mind", "Consciousness", "Traveler", "Observer", "Seeker", "Keeper"]
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const patterns = namePatterns[currentTraitSet];
Â  Â  Â  Â  Â  Â  return patterns.prefixes[Math.floor(Math.random() * patterns.prefixes.length)] +Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â patterns.suffixes[Math.floor(Math.random() * patterns.suffixes.length)];
Â  Â  Â  Â  }

Â  Â  Â  Â  function generateRandomNames() {
Â  Â  Â  Â  Â  Â  const count = parseInt(document.getElementById('entryCount').value) || 9;
Â  Â  Â  Â  Â  Â  let names = '';
Â  Â  Â  Â  Â  Â  for (let i = 0; i < count; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  names += generateRandomName() + (i < count - 1 ? ', ' : '');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  alert(`Random names generated:\n\n${names}\n\nCopy these to use as custom names!`);
Â  Â  Â  Â  }

Â  Â  Â  Â  function toggleTableView() {
Â  Â  Â  Â  Â  Â  const table = document.getElementById('tableView');
Â  Â  Â  Â  Â  Â  table.style.display = table.style.display === 'none' ? 'block' : 'none';
Â  Â  Â  Â  }

Â  Â  Â  Â  function randomPickWeighted(weights) {
Â  Â  Â  Â  Â  Â  let sum = 0;
Â  Â  Â  Â  Â  Â  for (let trait in weights) {
Â  Â  Â  Â  Â  Â  Â  Â  sum += weights[trait];
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  let rand = Math.floor(Math.random() * sum);
Â  Â  Â  Â  Â  Â  let cumulative = 0;
Â  Â  Â  Â  Â  Â  for (let trait in weights) {
Â  Â  Â  Â  Â  Â  Â  Â  cumulative += weights[trait];
Â  Â  Â  Â  Â  Â  Â  Â  if (rand < cumulative) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return trait;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function generateMetadata() {
Â  Â  Â  Â  Â  Â  const count = parseInt(document.getElementById('entryCount').value) || 9;
Â  Â  Â  Â  Â  Â  const namePrefix = document.getElementById('namePrefix').value || "FUAX";
Â  Â  Â  Â  Â  Â  const traits = traitSets[currentTraitSet];
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  generatedData = [];
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  for (let i = 1; i <= count; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  generatedData.push({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: i,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: `${namePrefix} #${i.toString().padStart(3, '0')}`,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  description: `A unique ${currentTraitSet} entity from the Forever Unfinished Artworx collection`,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  personality: randomPickWeighted(traits.personality),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  affinity: randomPickWeighted(traits.affinity),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  energy: randomPickWeighted(traits.energy),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ability: randomPickWeighted(traits.ability),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  origin: randomPickWeighted(traits.origin),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  utility: randomPickWeighted(traits.utility),
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  updateOutput();
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateOutput() {
Â  Â  Â  Â  Â  Â  const traits = traitSets[currentTraitSet];
Â  Â  Â  Â  Â  Â  const totalNFTs = generatedData.length;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Calculate trait frequencies
Â  Â  Â  Â  Â  Â  const traitFrequencies = {};
Â  Â  Â  Â  Â  Â  Object.keys(traits).forEach(category => {
Â  Â  Â  Â  Â  Â  Â  Â  traitFrequencies[category] = {};
Â  Â  Â  Â  Â  Â  Â  Â  generatedData.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const value = item[category];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  traitFrequencies[category][value] = (traitFrequencies[category][value] || 0) + 1;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Calculate rarity for each NFT
Â  Â  Â  Â  Â  Â  generatedData.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  let totalRarityScore = 0;
Â  Â  Â  Â  Â  Â  Â  Â  item.traitRarities = {};
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Object.keys(traits).forEach(category => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const value = item[category];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const frequency = traitFrequencies[category][value];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const rarityPercent = ((totalNFTs - frequency) / totalNFTs) * 100;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  item.traitRarities[category] = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value: value,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  frequency: frequency,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  percentage: rarityPercent.toFixed(1)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalRarityScore += rarityPercent;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Average rarity across all traits
Â  Â  Â  Â  Â  Â  Â  Â  item.rarityScore = (totalRarityScore / Object.keys(traits).length).toFixed(2);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Assign tier
Â  Â  Â  Â  Â  Â  Â  Â  if (item.rarityScore >= 70) item.rarityTier = "Legendary";
Â  Â  Â  Â  Â  Â  Â  Â  else if (item.rarityScore >= 50) item.rarityTier = "Epic";
Â  Â  Â  Â  Â  Â  Â  Â  else if (item.rarityScore >= 30) item.rarityTier = "Rare";
Â  Â  Â  Â  Â  Â  Â  Â  else if (item.rarityScore >= 15) item.rarityTier = "Uncommon";
Â  Â  Â  Â  Â  Â  Â  Â  else item.rarityTier = "Common";
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Generate CSV with proper rarity info
Â  Â  Â  Â  Â  Â  let csv = "ID,Name,Description,Personality,Affinity,Energy,Ability,Origin,Utility,Rarity Score,Rarity Tier\n";
Â  Â  Â  Â  Â  Â  generatedData.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  csv += `${item.id},"${item.name}","${item.description}","${item.personality}","${item.affinity}","${item.energy}","${item.ability}","${item.origin}","${item.utility}",${item.rarityScore},${item.rarityTier}\n`;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Add detailed trait rarity breakdown
Â  Â  Â  Â  Â  Â  csv += "\n\n=== TRAIT RARITY BREAKDOWN ===\n";
Â  Â  Â  Â  Â  Â  csv += "NFT ID,Trait Type,Trait Value,Appears In Collection,Rarity %\n";
Â  Â  Â  Â  Â  Â  generatedData.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Object.keys(item.traitRarities).forEach(category => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const trait = item.traitRarities[category];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  csv += `${item.id},${category},${trait.value},${trait.frequency}/${totalNFTs},${trait.percentage}%\n`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  document.getElementById('output').value = csv;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const table = document.getElementById('metadataTable');
Â  Â  Â  Â  Â  Â  table.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr style="background:#cd5c28; color:#000;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">ID</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">Name</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">Personality</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">Affinity</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">Energy</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">Ability</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">Origin</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">Utility</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">Rarity</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="padding:10px; border:1px solid #cd5c28;">Tier</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${generatedData.map(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const tierColor =Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  item.rarityTier === "Legendary" ? "#FFD700" :
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  item.rarityTier === "Epic" ? "#9D4EDD" :
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  item.rarityTier === "Rare" ? "#3A86FF" :
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  item.rarityTier === "Uncommon" ? "#06D6A0" : "#00ffff";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr style="color:#00ffff;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28;">${item.id}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28;">${item.name}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28;">${item.personality}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28;">${item.affinity}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28;">${item.energy}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28;">${item.ability}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28;">${item.origin}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28;">${item.utility}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28; font-weight:bold;">${item.rarityScore}%</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="padding:8px; border:1px solid #cd5c28; font-weight:bold; color:${tierColor};">${item.rarityTier}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `}).join('')}
Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  document.getElementById('tableView').style.display = 'block';
Â  Â  Â  Â  }

Â  Â  Â  Â  function downloadCSV() {
Â  Â  Â  Â  Â  Â  if (generatedData.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  alert('Generate metadata first before downloading!');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const csvContent = document.getElementById('output').value;
Â  Â  Â  Â  Â  Â  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
Â  Â  Â  Â  Â  Â  const link = document.createElement('a');
Â  Â  Â  Â  Â  Â  const url = URL.createObjectURL(blob);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const timestamp = new Date().toISOString().slice(0,10);
Â  Â  Â  Â  Â  Â  const filename = `FUAX_metadata_${currentTraitSet}_${timestamp}.csv`;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  link.setAttribute('href', url);
Â  Â  Â  Â  Â  Â  link.setAttribute('download', filename);
Â  Â  Â  Â  Â  Â  link.style.visibility = 'hidden';
Â  Â  Â  Â  Â  Â  document.body.appendChild(link);
Â  Â  Â  Â  Â  Â  link.click();
Â  Â  Â  Â  Â  Â  document.body.removeChild(link);
Â  Â  Â  Â  }

Â  Â  Â  Â  function clearOutput() {
Â  Â  Â  Â  Â  Â  document.getElementById('output').value = '';
Â  Â  Â  Â  Â  Â  document.getElementById('tableView').style.display = 'none';
Â  Â  Â  Â  Â  Â  generatedData = [];
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
